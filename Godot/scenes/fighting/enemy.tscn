[gd_scene load_steps=13 format=3 uid="uid://chipoq6s3ro70"]

[ext_resource type="Script" path="res://scenes/fighting/Enemy.gd" id="1_pcg65"]
[ext_resource type="Texture2D" uid="uid://bh3lblitpd717" path="res://assets/fighters/enemy_4.png" id="2_16jsj"]
[ext_resource type="PackedScene" uid="uid://b1dgls6g37b4f" path="res://effects/flame_damage.tscn" id="3_wv3yh"]
[ext_resource type="Texture2D" uid="uid://bxrkge3nlpyqk" path="res://assets/particles/glowing_particle_anim_sprite.png" id="4_01wt0"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_d4crl"]
size = Vector2(64, 64)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_lfq1m"]
bg_color = Color(0.666667, 0, 0, 0.588235)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_gpdkt"]
bg_color = Color(0, 0.784314, 0, 0.588235)

[sub_resource type="Animation" id="Animation_h2bmc"]
resource_name = "RESET"

[sub_resource type="Animation" id="Animation_q25s4"]
resource_name = "entering_friendly_base"
length = 1.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("darkness:emitting")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.6),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("darkness:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.6, 0.7, 1.2, 1.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Sprite2D:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.6, 1.3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_a22vt"]
_data = {
"RESET": SubResource("Animation_h2bmc"),
"entering_friendly_base": SubResource("Animation_q25s4")
}

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_vrlrh"]
particles_animation = true
particles_anim_h_frames = 6
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="Gradient" id="Gradient_h2j6f"]
offsets = PackedFloat32Array(0.852273, 1)
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[node name="Enemy" type="Area2D"]
collision_layer = 8
collision_mask = 0
script = ExtResource("1_pcg65")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("2_16jsj")

[node name="MoveRay" type="RayCast2D" parent="."]
target_position = Vector2(-96, 0)
collision_mask = 25
collide_with_areas = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-0.5, 0)
shape = SubResource("RectangleShape2D_d4crl")

[node name="MeleeRay" type="RayCast2D" parent="."]
collide_with_areas = true

[node name="HealthBar" type="ProgressBar" parent="."]
offset_left = -30.0
offset_top = -24.0
offset_right = 30.0
offset_bottom = -20.0
theme_override_styles/background = SubResource("StyleBoxFlat_lfq1m")
theme_override_styles/fill = SubResource("StyleBoxFlat_gpdkt")
show_percentage = false

[node name="FlameDamage" parent="." instance=ExtResource("3_wv3yh")]
visible = false
position = Vector2(-6, -10)
scale = Vector2(2.899, 3)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_a22vt")
}

[node name="darkness" type="CPUParticles2D" parent="."]
modulate = Color(1, 1, 1, 0)
self_modulate = Color(0.117647, 0.176471, 0.392157, 1)
z_index = -1
material = SubResource("CanvasItemMaterial_vrlrh")
amount = 20
texture = ExtResource("4_01wt0")
emission_shape = 3
emission_rect_extents = Vector2(20, 25)
gravity = Vector2(0, 0)
scale_amount_min = 5.0
scale_amount_max = 5.0
color_ramp = SubResource("Gradient_h2j6f")
anim_speed_min = 2.0
anim_speed_max = 4.0

[connection signal="mouse_entered" from="." to="." method="_on_mouse_entered"]
[connection signal="mouse_exited" from="." to="." method="_on_mouse_exited"]
